<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Calculadora</title>
<script type="text/javascript">

	/*
	//Bucle comparando posiciones de la cadena.

	function acceder()
	{
			var n=document.form1.nombre.value;
			var p=document.form1.pass.value;
			var contador_mayusculas=0;
			var contador_simbolos=0;
			if(n.length>8 && n.length<15){
				document.write("El nombre de usuario es: "+n);
				document.write("<br>");
				for(var i=0; i<p.length; i++)
				{
					if(p[i]!="(" && p[i]!="^")
					{
						var valor = p.charCodeAt(i);
						if(valor>34 && valor<91)
						{
							contador_mayusculas++;
						}
					}else
					{
						contador_simbolos++;
						document.write("La contraseña es incorrecta.");
						document.write("<br>");
					}
					if(p.length>=6 && i == 4 && contador_mayusculas!=0 && contador_simbolos==0)
					{
						document.write("La contraseña es correcta. Usuario Validado.");
						document.write("<br>");
					}
				}
			}else{
				document.write("Nombre de usuario incorrecto. Debe ser mayor que 8 y menor que 15.");
				document.write("<br>");
			}
	}
	*/

	//Bucle con IndexOf de los símbolos.

	function acceder()
	{
			var n=document.form1.nombre.value;
			var p=document.form1.pass.value;
			var contador_mayusculas=0;
			var contador_simbolos=0;

			if(n.length>8 && n.length<15){
				document.write("El nombre de usuario es: "+n);
				document.write("<br>");
				for(var i=0; i<p.length; i++)
				{
					var simbolo1 = p.indexOf("(");
					var simbolo2 = p.indexOf("^");

					if(simbolo1 == -1 && simbolo2 == -1)
					{
						var valor = p.charCodeAt(i);
						if(valor>34 && valor<91)
						{
							contador_mayusculas++;
						}
					}else
					{
						contador_simbolos++;
						if(contador_simbolos == 1){
							document.write("La contraseña es incorrecta.");
							document.write("<br>");
						}
					}
					if(p.length>=6 && i == 4 && contador_mayusculas!=0 && contador_simbolos==0)
					{
						document.write("La contraseña es correcta. Usuario Validado.");
						document.write("<br>");
					}
				}
			}else{
				document.write("Nombre de usuario incorrecto. Debe ser mayor que 8 y menor que 15.");
				document.write("<br>");
			}
	}
	</script>
</head>
<body>
<form name="form1">
   <input type="text" name="nombre"/>
   <input type="text" name="pass"/>
   <p>
   		<!-- OJO: no poner a la función el mismo nombre que el name del input de llamada. -->
		<input type="button" name="acces" onclick="acceder()" value="Validar usuario"/>
   </p>
</form>
</body>
</html>